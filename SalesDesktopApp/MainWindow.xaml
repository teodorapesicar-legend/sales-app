<Window x:Class="SalesDesktopApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Sales Management" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        Loaded="Window_Loaded">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header with User info -->
        <Border Grid.Row="0" Background="#2196F3" Padding="15">
            <StackPanel Orientation="Horizontal">
                <TextBlock x:Name="UserInfoTextBlock" Foreground="White" 
                           FontSize="16" VerticalAlignment="Center"/>
                <Button Content="Add User" Width="100" Height="30" 
                        Margin="20,0,0,0" Click="AddUserButton_Click"
                        x:Name="AddUserButton"/>
                <Button Content="Logout" Width="80" Height="30" 
                        Margin="20,0,0,0" Click="LogoutButton_Click"/>
            </StackPanel>
        </Border>

        <!-- TabControl with Sales and Customers -->
        <TabControl Grid.Row="1" Margin="20">

            <!-- TAB 1: SALES -->
            <TabItem Header="Sales">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Sales list -->
                    <GroupBox Grid.Column="0" Header="Sales">
                        <DataGrid x:Name="SalesDataGrid" AutoGenerateColumns="False" 
                                  IsReadOnly="True" SelectionMode="Single"
                                  SelectionChanged="SalesDataGrid_SelectionChanged">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                                <DataGridTextColumn Header="Article" Binding="{Binding ArticleName}" Width="*"/>
                                <DataGridTextColumn Header="Price" Binding="{Binding Price, StringFormat=C}" Width="100"/>
                                <DataGridTextColumn Header="Date" Binding="{Binding SaleDate, StringFormat=dd.MM.yyyy}" Width="100"/>
                                <DataGridTextColumn Header="User" Binding="{Binding User.Username}" Width="120"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </GroupBox>

                    <!-- Sales panel -->
                    <GroupBox Grid.Column="2" Header="Add/Update Sale">
                        <StackPanel>
                            <TextBlock Text="Article name:" Margin="0,10,0,5"/>
                            <TextBox x:Name="ArticleNameTextBox" Height="30"/>

                            <TextBlock Text="Price:" Margin="0,10,0,5"/>
                            <TextBox x:Name="PriceTextBox" Height="30"/>

                            <Button x:Name="AddButton" Content="Add" 
                                    Height="35" Margin="0,20,0,10" Click="AddButton_Click"/>

                            <Button x:Name="UpdateButton" Content="Update" 
                                    Height="35" Margin="0,0,0,10" Click="UpdateButton_Click"
                                    IsEnabled="False"/>

                            <Button x:Name="DeleteButton" Content="Delete" 
                                    Height="35" Click="DeleteButton_Click"
                                    IsEnabled="False" Background="#F44336" Foreground="White"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>

            <!-- TAB 2: CUSTOMERS -->
            <TabItem Header="Customers">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Customers list -->
                    <GroupBox Grid.Column="0" Header="Customers">
                        <DataGrid x:Name="CustomersDataGrid" AutoGenerateColumns="False" 
                                  IsReadOnly="True" SelectionMode="Single"
                                  SelectionChanged="CustomersDataGrid_SelectionChanged">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                                <DataGridTextColumn Header="First Name" Binding="{Binding FirstName}" Width="*"/>
                                <DataGridTextColumn Header="Last Name" Binding="{Binding LastName}" Width="*"/>
                                <DataGridTextColumn Header="Service" Binding="{Binding ServiceType}" Width="150"/>
                                <DataGridTextColumn Header="Date" Binding="{Binding DateCreated, StringFormat=dd.MM.yyyy}" Width="100"/>
                                <DataGridTextColumn Header="Created By" Binding="{Binding CreatedByUser.Username}" Width="120"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </GroupBox>

                    <!-- Customers panel -->
                    <GroupBox Grid.Column="2" Header="Add/Update Customer">
                        <StackPanel>
                            <TextBlock Text="First Name:" Margin="0,10,0,5"/>
                            <TextBox x:Name="CustomerFirstNameTextBox" Height="30"/>

                            <TextBlock Text="Last Name:" Margin="0,10,0,5"/>
                            <TextBox x:Name="CustomerLastNameTextBox" Height="30"/>

                            <TextBlock Text="Service Type:" Margin="0,10,0,5"/>
                            <TextBox x:Name="ServiceTypeTextBox" Height="30"/>

                            <Button x:Name="AddCustomerButton" Content="Add" 
                                    Height="35" Margin="0,20,0,10" Click="AddCustomerButton_Click"/>

                            <Button x:Name="UpdateCustomerButton" Content="Update" 
                                    Height="35" Margin="0,0,0,10" Click="UpdateCustomerButton_Click"
                                    IsEnabled="False"/>

                            <Button x:Name="DeleteCustomerButton" Content="Delete" 
                                    Height="35" Click="DeleteCustomerButton_Click"
                                    IsEnabled="False" Background="#F44336" Foreground="White"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>

        </TabControl>

        <!-- Status bar -->
        <StatusBar Grid.Row="2">
            <StatusBarItem>
                <TextBlock x:Name="StatusTextBlock" Text="Ready"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>